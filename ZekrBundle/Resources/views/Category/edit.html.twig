{% extends ':admin:baseNoLayout.html.twig' %}

{% import "AdminBundle:Main:_helper.html.twig" as helper %}

{% block content %}
    <div class="iframeContent">
        <div class="row">
            <div class="col-xs-12">

                {{ helper.showTranslatableFormErrorAlertIfAny(edit_form) }}

                {{ form_errors(edit_form) }}
                {{ form_start(edit_form, {'attr': {'novalidate':'true', 'class': 'form-horizontal', 'role':'form'}}) }}

                <div class="form-group">
                    <label class="col-sm-2 control-label no-padding-right"> {{ form_label(edit_form.plainSlug) }} <span class="label label-danger arrowed-right">كن حذرا</span></label>
                    <div class="col-sm-10">
                        {{ form_errors(edit_form.plainSlug) }}
                        {{ form_widget(edit_form.plainSlug) }}
                    </div>
                </div>
                <div class="space-4"></div>
                <div class="tabbable">
                    <ul class="nav nav-tabs" id="myTab">
                        {% for language in adminHelper.getLanguages() %}
                            <li{% if loop.first %} class="active"{% endif %}>
                                <a data-toggle="tab" href="#tab{{ language.id }}">{{ language.name }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                    <div class="tab-content">
                        {% for language in adminHelper.getLanguages() %}
                            <div id="tab{{ language.id }}" class="tab-pane{% if loop.first %} in active{% endif %}">
                                <div class="form-group">
                                    <label class="col-sm-2 control-label no-padding-right"> {{ form_label(edit_form['name_'~language.locale]) }} </label>
                                    <div class="col-sm-10">
                                        {{ form_errors(edit_form['name_'~language.locale]) }}
                                        {{ form_widget(edit_form['name_'~language.locale]) }}
                                    </div>
                                </div>
                                <div class="space-4"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label no-padding-right"> {{ form_label(edit_form['note_'~language.locale]) }} </label>
                                    <div class="col-sm-10">
                                        {{ form_errors(edit_form['note_'~language.locale]) }}
                                        {{ form_widget(edit_form['note_'~language.locale]) }}
                                    </div>
                                </div>
                                <div class="space-4"></div>
                            </div>
                        {% endfor %}
                    </div>
                </div>


                <div class="form-group">
                    <label class="col-sm-2 control-label no-padding-right"> {{ form_label(edit_form.active) }} </label>
                    <div class="col-sm-10">
                        <label>
                            {{ form_errors(edit_form.active) }}
                            {{ form_widget(edit_form.active) }}
                            <span class="lbl"></span>
                        </label>
                    </div>
                </div>

                <div class="space-4"></div>


                {{ form_rest(edit_form) }}

                <div class="clearfix form-actions">
                    <div class="col-md-offset-2 col-md-10">
                        <button class="btn btn-info" type="submit" name="submit">
                            <i class="icon-ok bigger-110"></i> تعديل
                        </button>
                    </div>
                </div>

                {{ form_end(edit_form) }}
            </div>
        </div>
    </div>

{% endblock %}

{% block bottomScripts %}
    {% include ':admin:_fancyboxIncludes.html.twig' %}
    <script type="text/javascript">
        {% if 'close' == mode %}
        window.parent.editCategoryThenCloseDialog(
            '{{ entity.id }}',
            '{{ entity.translate.name|e('js') }}'
        );
        {% endif %}
    </script>
{% endblock %}
